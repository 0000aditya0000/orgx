<section class="text-lg-start min-vh-100">
    <div class="container-fluid">
    <div class="row d-flex justify-content-evenly align-items-center h-100">
      <div class="col-md-9 col-lg-6 col-xl-5">
        <div class="d-flex justify-content-center flex-column align-items-center text-center">
          <h1 class="fw-bold font-size-30px text-center">Orgx</h1>
          <p class="tagline">Simplify Tenant and Company Administrationâ€”<span class="gradient-text">All in One Place.</span></p>
        </div>
        <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp" class="img-fluid"
          alt="Sample image" />
      </div>
      <div class="col-md-8 col-sm-10 col-lg-6 col-xl-4 shadow-lg p-4 m-3 sign-in-form">
        <h2 class="fw-bold font-size-30px text-center text-color">Sign-in</h2>
        <form [formGroup]="loginForm" (ngSubmit)="login()">
          <div class="form-outline mb-4">
            <label class="form-label text-color font-bold " for="role">Role</label>
            <mat-radio-group formControlName="role" (change)="onRoleChange($event.value)" class="d-flex gap-4 text-color">
              <mat-radio-button class="text-color" value="super admin">Super Admin</mat-radio-button>
              <mat-radio-button class="text-color" value="admin">Admin</mat-radio-button>
              <mat-radio-button class="text-color" value="employee">Employee</mat-radio-button>
            </mat-radio-group>
          </div>
          <div class="form-outline mb-4">
            <mat-form-field appearance="outline" floatLabel="always" class="w-100">
              <mat-label class="label">Email address</mat-label>
              <input matInput formControlName="email" type="email" placeholder="Enter Email address" id="tenant_email" class="w-100" />
              <mat-error *ngIf="loginForm.get('email')?.touched">
                <div *ngIf="loginForm.get('email')?.errors">
                  Email is required
                </div>
                <div *ngIf="loginForm.get('email')?.hasError('email')">
                  Email is invalid
                </div>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="form-outline mb-4">
            <mat-form-field class="w-100" appearance="outline" floatLabel="always" *ngIf="
                loginForm.get('role')?.value === 'employee'
              ">
              <mat-label>Tenant Code</mat-label>
              <input matInput formControlName="tenant_code" placeholder="Enter tenant code" id="tenant_code" class="w-100" />
              <mat-error *ngIf="
                  loginForm.get('tenant_code')?.touched
                ">
                <div *ngIf="loginForm.get('tenant_code')?.errors">
                  Tenant Code is required
                </div>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="form-outline w-100 mb-4">
            <mat-form-field appearance="outline" floatLabel="always" class="w-100">
              <mat-label class="label">Password</mat-label>

              <input matInput formControlName="password" placeholder="Enter password" [type]="showPass ? 'text' : 'password'" id="password" />
              <mat-icon matSuffix (click)="showPass = !showPass">{{
                showPass ? "visibility_off" : "visibility"
                }}</mat-icon>
              <mat-error *ngIf="
                  loginForm.get('password')?.invalid &&
                  loginForm.get('password')?.touched
                ">
                <div *ngIf="loginForm.get('password')?.hasError('required')">
                  Password is required
                </div>
                <div *ngIf="loginForm.get('password')?.hasError('minlength')">
                  Password must be at least 8 characters long
                </div>
                <div *ngIf="loginForm.get('password')?.hasError('pattern')">
                  Password must contain a special character & an uppercase
                  letter & a number
                </div>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="d-flex align-items-center">
            <div class="pointer-cursor w-50 mb-0 d-flex">
              <input formControlName="rememberMe" class="form-check-input me-2 pointer-cursor" type="checkbox" value="" id="form2Example3" />
              <label class="text-color pointer-cursor" for="form2Example3">
                Remember me
              </label>
            </div>
            <a [routerLink]="['/forgot-password']" [queryParams]="{role: loginForm.get('role')?.value}"  style="text-decoration: none;" class="pointer-cursor text-color ms-auto">Forgot password?</a>
          </div>
          <div class="text-center text-lg-start mt-4  pt-2">
            <button [disabled]="isLoading" class="mb-3 gradient-button w-100 text-white rounded" type="submit">
              LOGIN
              <div class="custom-spinner" *ngIf="isLoading" class="spinner-border spinner-border-sm"></div>
            </button>
            <div *ngIf=" loginForm.get('role')?.value === 'admin'" class=" mt-2 pt-1 mb-0 text-color message">
              Don't have an account?
              <a href="registration" class="pointer-cursor gradient-text" style="text-decoration: none;">Register with us</a>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
<!-- <app-footer></app-footer> -->
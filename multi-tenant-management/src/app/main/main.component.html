<mat-toolbar color="primary" class="bg-white text-black shadow d-flex justify-content-between align-items-center">
  <div class="d-flex align-items-center">
    <button mat-icon-button class="lg:hidden" (click)="sidenav.toggle()">
      <mat-icon style="color: #fff;">menu</mat-icon>
    </button>
    <a class="navbar-brand">
      <img
        class="img-logo"
        src="https://www.nashtechglobal.com/wp-content/uploads/2023/03/NashTech-logo-White.svg"
        alt="logo"
    /></a>
    <h1 class="tenantHeading"><span>OrgX</span></h1>
  </div>
  <div id="navbar" class="mt-3 d-flex justify-content-between">    
    <span class="me-3 mb-3 text-white fs-6 fw-bold">
      ðŸ‘‹ Welcome, {{ userName | titlecase }}
    </span>    <ul class="navbar-nav ms-lg-auto mt-1">
     <li class="nav-item dropdown nav-user">
       <mat-icon  mat-icon-button [matMenuTriggerFor]="menu" aria-label="menu" class="profile">account_circle</mat-icon>
       <mat-menu #menu="matMenu">
         <button mat-menu-item (click)="navigateToProfile()">
           <mat-icon class="menu-icon">account_circle</mat-icon>
           <span>Profile</span>
         </button>
         <button mat-menu-item (click)="openResetPassword()">
           <mat-icon class="menu-icon">lock_reset</mat-icon>
           <span>Change Password</span>
         </button>
         <button mat-menu-item (click)="openModal(myLogOutModal)">
           <mat-icon class="menu-icon">logout</mat-icon>
           <span>Log out</span>
         </button>
       </mat-menu>
     </li>
    </ul>
    </div>
</mat-toolbar>
<ng-template #myLogOutModal>
  <div
    class="p-4 d-flex flex-column justify-content-center"
    style="background-color: #fafafa; border-radius: 8px"
  >
    <h2 class="text-bold mb-2">Logout</h2>
    <span class="text-bold mt-2">Are you sure you want to Log out?</span
    >
    <div class="mt-4 d-flex justify-content-end">
      <button type="button" (click)="onLogOut()" class="btn gradient-button modal-buttons">Yes</button>
      <button type="button" class="btn btn-secondary ms-3 modal-buttons" (click)="closeModal()">No</button>
    </div>
  </div>
</ng-template>
 
<mat-sidenav-container class="h-screen">
  <mat-sidenav mode="side" opened class="w-64 bg-gray-100">
    <ng-container *ngFor="let link of links">
      <mat-nav-list *ngIf="link.label!== 'Contact Us' && !link.hidden">
        <a mat-list-item  [routerLink]="link.children ? null : link.routerLink"  (click)="link.expanded = !link?.expanded" [ngClass]="{ active: isActiveRoute(link.routerLink)}"  style="display: flex; align-items: center;justify-content: space-between;">
          <mat-icon class="nav-icon" style="margin-right: 8px;">{{link.icon}}</mat-icon><span class="menu-label">{{link.label}}</span>
          <div>
            <mat-icon *ngIf="link.children" style=" margin-left: auto;margin-top:4px;">{{link.expanded ? 'keyboard_arrow_up': 'keyboard_arrow_down'}}</mat-icon>
          </div>
        </a>

        <div *ngIf="link.children && link?.expanded"  class="submenuu">
            <a mat-list-item *ngFor="let child of link.children" [routerLink]="child.routerLink" [ngClass]="{ active: isActiveRoute(child.routerLink)}"
            class="sub-menu-item" style="padding-left: 32px;">
            <mat-icon class="nav-icon" style="margin-right: 8px;">{{child.icon}}</mat-icon><span>{{child.label}}</span>
         </a>
        </div>
        
      </mat-nav-list>

      <mat-nav-list class="nav-contact-list" *ngIf="link.label === 'Contact Us' && !link.hidden">
        <a mat-list-item  [routerLink]="link.children ? null : link.routerLink"  (click)="link.expanded = !link?.expanded" [ngClass]="{ active: isActiveRoute(link.routerLink)}"  style="display: flex; align-items: center;justify-content: center;">
          <span class="menu-label"> <mat-icon class="nav-icon fs-5" style="padding-top: 7px;">{{link.icon}}</mat-icon>{{link.label}}</span>
        </a>
        
      </mat-nav-list>

    </ng-container>
  </mat-sidenav>
  <mat-sidenav-content>
    <div class="p-4 w-100 h-100">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>